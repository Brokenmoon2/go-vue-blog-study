import{d as f,u as h,a as k,t as l,o as n,b as S,g as x,e as c,c as B,A as b,M as r,r as s}from"./index-C_OMfqPK.js";const y={class:"gvb_upload_image"},C={class:"line"},E=f({__name:"gvb_upload_image",props:{modelValue:{type:String},placeholder:{type:String,default:"图片链接"}},emits:["update:modelValue"],setup(u,{emit:m}){const d={token:h().userInfo.token},o=u,e=k("");l(()=>o.modelValue,()=>{e.value=o.modelValue});const p=m;function i(t){const a=t.response;if(a.code){r.error(a.msg);return}r.success(a.msg),e.value=a.data}return l(e,()=>{p("update:modelValue",e.value)}),(t,a)=>{const _=s("a-input"),g=s("a-upload"),v=s("a-image");return n(),S("div",y,[x("div",C,[c(_,{placeholder:o.placeholder,modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=V=>e.value=V)},null,8,["placeholder","modelValue"]),c(g,{onSuccess:i,"show-file-list":!1,action:"/api/image",name:"image",headers:d})]),e.value?(n(),B(v,{key:0,src:e.value,height:"80px"},null,8,["src"])):b("",!0)])}}});export{E as _};
