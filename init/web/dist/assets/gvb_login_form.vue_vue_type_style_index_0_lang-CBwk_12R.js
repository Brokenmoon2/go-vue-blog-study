import{_ as h,d as b,i as j,j as k,k as z,o as w,b as S,n as L,l as N,g as a,u as q,m as B,a as I,c as M,w as c,e as i,p as g,f as R,q as E,s as O,M as v,r as m}from"./index-C_OMfqPK.js";import{I as P}from"./index-BDSNGpdZ.js";const U="/image/icon/qq.png",T=b({name:"IconLock",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:r}){const n=j("icon"),l=k(()=>[n,`${n}-lock`,{[`${n}-spin`]:e.spin}]),u=k(()=>{const o={};return e.size&&(o.fontSize=z(e.size)?`${e.size}px`:e.size),e.rotate&&(o.transform=`rotate(${e.rotate}deg)`),o});return{cls:l,innerStyle:u,onClick:o=>{r("click",o)}}}}),W=["stroke-width","stroke-linecap","stroke-linejoin"],A=a("rect",{x:"7",y:"21",width:"34",height:"20",rx:"1"},null,-1),F=a("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"},null,-1),D=[A,F];function G(e,r,n,l,u,s){return w(),S("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:L(e.cls),style:N(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:r[0]||(r[0]=(...o)=>e.onClick&&e.onClick(...o))},D,14,W)}var p=h(T,[["render",G]]);const H=Object.assign(p,{install:(e,r)=>{var n;const l=(n=r==null?void 0:r.iconPrefix)!=null?n:"";e.component(l+p.name,p)}}),Q=b({__name:"gvb_login_form",emits:["ok"],setup(e,{expose:r,emit:n}){const l=n;E();const u=q(),s=B({user_name:"",password:""}),o=I();function y(){o.value.resetFields(Object.keys(s)),o.value.clearValidate(Object.keys(s))}r({formReset:y});async function C(){if(await o.value.validate())return;let t=await O(s);if(t.code){v.error(t.msg);return}v.success(t.msg),u.setToken(t.data),l("ok")}return(x,t)=>{const f=m("a-input"),_=m("a-form-item"),V=m("a-button"),$=m("a-form");return w(),M($,{class:"gvb_login_form",ref_key:"formRef",ref:o,model:s,"label-col-props":{span:0},"wrapper-col-props":{span:24}},{default:c(()=>[t[3]||(t[3]=a("div",{class:"title"},"用户登录",-1)),i(_,{field:"user_name",label:"用户名",rules:[{required:!0,message:"请输入用户名"}],"validate-trigger":["blur"]},{default:c(()=>[i(f,{modelValue:s.user_name,"onUpdate:modelValue":t[0]||(t[0]=d=>s.user_name=d),placeholder:"用户名"},{prefix:c(()=>[i(g(P))]),_:1},8,["modelValue"])]),_:1}),i(_,{field:"password",label:"密码",rules:[{required:!0,message:"请输入密码"}],"validate-trigger":["blur"]},{default:c(()=>[i(f,{type:"password",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=d=>s.password=d),placeholder:"密码"},{prefix:c(()=>[i(g(H))]),_:1},8,["modelValue"])]),_:1}),i(V,{type:"primary",onClick:C},{default:c(()=>t[2]||(t[2]=[R("登录")])),_:1}),t[4]||(t[4]=a("div",{class:"other-login"},[a("div",{class:"label"},"第三方登录"),a("div",{class:"icons"},[a("a",{href:""},[a("img",{src:U,alt:""})])])],-1))]),_:1},8,["model"])}}});export{Q as _};
