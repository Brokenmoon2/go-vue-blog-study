import{_ as w,b as z,c as A}from"./settings_api-CrrBrsAM.js";import{d as k,o as t,b as _,e as p,p as u,F as S,v as U,g as o,z as v,a as F,m as H,a6 as V,w as h,f as I,l as y,M as b,r,c as f}from"./index-C_OMfqPK.js";const R={class:"gvb_help"},j={class:"col"},E={class:"title"},O={class:"column"},q={class:"abs"},G=["innerHTML"],J=k({__name:"gvb_help",props:{helpTitle:{},data:{}},setup(m){const c=m,{helpTitle:s="帮助"}=c;return(a,g)=>(t(),_("div",R,[p(w,{title:u(s)},null,8,["title"]),(t(!0),_(S,null,U(c.data,i=>(t(),_("div",j,[o("div",E,[o("div",O,v(i.title),1),o("div",q,v(i.abs),1)]),o("div",{class:"content",innerHTML:i.content},null,8,G)]))),256))]))}}),K={class:"gvb_config_components"},P={class:"site_info"},Q={class:"config_update"},Z=k({__name:"gvb_config",props:{name:{},column:{},labelSpan:{},wrapperSpan:{},leftWidth:{},rightWith:{},helpData:{},title:{}},setup(m){const c=F(),s=m,a=H({secret:"",expires:0,issuer:""}),{labelSpan:g=5,wrapperSpan:i=19,leftWidth:$=50,rightWith:M=50}=s;async function T(){if(await c.value.validate())return;let n=await z(s.name,a);if(n.code){b.error(n.msg);return}b.success(n.msg)}async function x(){let l=await A(s.name);if(l.code){b.error(l.msg);return}Object.assign(a,l.data)}return x(),(l,n)=>{const B=r("a-switch"),C=r("a-input-number"),D=r("a-input"),W=r("a-form-item"),L=r("a-form"),N=r("a-button");return t(),_("div",K,[o("div",{class:"left",style:y({"--col":u($)+"%"})},[o("div",P,[p(w,{title:s.title},null,8,["title"]),V(l.$slots,"alert"),p(L,{ref_key:"formRef",ref:c,model:a,"label-col-props":{span:u(g)},"wrapper-col-props":{span:u(i)}},{default:h(()=>[(t(!0),_(S,null,U(l.column,e=>(t(),f(W,{field:e.field,label:e.label,rules:e.rules,"validate-trigger":["blur"]},{default:h(()=>[e.type==="boolean"?(t(),f(B,{key:0,modelValue:a[e.field],"onUpdate:modelValue":d=>a[e.field]=d},null,8,["modelValue","onUpdate:modelValue"])):e.type==="number"?(t(),f(C,{key:1,placeholder:e.label,modelValue:a[e.field],"onUpdate:modelValue":d=>a[e.field]=d},null,8,["placeholder","modelValue","onUpdate:modelValue"])):(t(),f(D,{key:2,placeholder:e.label,modelValue:a[e.field],"onUpdate:modelValue":d=>a[e.field]=d},null,8,["placeholder","modelValue","onUpdate:modelValue"]))]),_:2},1032,["field","label","rules"]))),256))]),_:1},8,["model","label-col-props","wrapper-col-props"])]),o("div",Q,[V(l.$slots,"config_update_extra"),p(N,{type:"primary",onClick:T},{default:h(()=>n[0]||(n[0]=[I("更新")])),_:1})])],4),o("div",{class:"right",style:y({"--col":u(M)+"%"})},[p(J,{data:s.helpData},null,8,["data"])],4)])}}});export{Z as _};
